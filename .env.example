# Application
APP_NAME=PayPerPlay
DEBUG=true
PORT=8000

# Logging
LOG_LEVEL=INFO
LOG_JSON=false

# Database
# PostgreSQL (recommended for production - default):
DATABASE_TYPE=postgres
DATABASE_URL=postgres://payperplay:payperplay_secure_password@postgres:5432/payperplay?sslmode=disable
DB_PASSWORD=payperplay_secure_password

# For SQLite (development only):
# DATABASE_TYPE=sqlite
# DATABASE_PATH=./payperplay.db

# Authentication
# IMPORTANT: Generate a strong random secret for production!
# You can generate one with: openssl rand -base64 32
JWT_SECRET=change-me-in-production-please-use-a-random-string

# Minecraft Servers
SERVERS_BASE_PATH=./minecraft/servers
DEFAULT_IDLE_TIMEOUT=300

# Billing (EUR per hour)
RATE_2GB=0.10
RATE_4GB=0.20
RATE_8GB=0.40
RATE_16GB=0.80

# Docker
DOCKER_REGISTRY=docker.io

# Port Range for MC Servers
MC_PORT_START=25565
MC_PORT_END=25665

# B5 Auto-Scaling (Hetzner Cloud)
# Get your API token from: https://console.hetzner.cloud/ -> Security -> API Tokens
# IMPORTANT: Keep this token secure! It allows creating/deleting cloud servers.
HETZNER_CLOUD_TOKEN=your-hetzner-cloud-api-token-here

# SSH Key name configured in Hetzner Cloud (for accessing provisioned VMs)
# Create SSH key in Hetzner Console: Security -> SSH Keys
# The public key should be uploaded to Hetzner Cloud with a memorable name
HETZNER_SSH_KEY_NAME=payperplay-main

# Enable/disable auto-scaling (true/false)
# When enabled, the system will automatically provision Hetzner Cloud VMs
# when capacity exceeds 85% and decommission them when below 30%
SCALING_ENABLED=true

# Scaling check interval (default: 2m)
SCALING_CHECK_INTERVAL=2m

# Scaling thresholds (0-100%)
SCALING_SCALE_UP_THRESHOLD=85.0
SCALING_SCALE_DOWN_THRESHOLD=30.0

# Maximum number of cloud nodes to provision (safety limit)
SCALING_MAX_CLOUD_NODES=10

# System Resource Reservation
# Base reservation for system overhead (API, PostgreSQL, Velocity)
SYSTEM_RESERVED_RAM_MB=1000
SYSTEM_RESERVED_CPU_CORES=0.5

# Additional percentage reserve for cloud nodes (15% recommended)
SYSTEM_RESERVED_RAM_PERCENT=15.0

# Phase 3: Archive Storage (Hetzner Storage Box)
# Archives servers that have been sleeping for > 48 hours to cheap remote storage
# Cost: ~€3.81/TB/month (vs €15+/TB for NVMe) - Enables FREE archiving for users!

# Enable Hetzner Storage Box for archiving (Phase 3b)
# When enabled, sleeping servers > 48h are compressed and uploaded to Storage Box
# When disabled, archives are stored locally in ./minecraft/servers/.archives
STORAGE_BOX_ENABLED=false

# Hetzner Storage Box credentials
# Get your Storage Box from: https://www.hetzner.com/storage/storage-box
# Example: u123456.your-storagebox.de
STORAGE_BOX_HOST=

# SFTP port (Hetzner default: 23)
STORAGE_BOX_PORT=23

# Storage Box username (e.g., u123456)
STORAGE_BOX_USER=

# Storage Box password
STORAGE_BOX_PASSWORD=

# Base path for archives on Storage Box (will be auto-created)
STORAGE_BOX_PATH=/minecraft-archives
